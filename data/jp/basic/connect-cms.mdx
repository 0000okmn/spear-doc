---
title: CMS へ接続する
---

# Spearly CMS へ接続する方法

Spear は Spearly CMS からデータをフェッチできます。近年、ヘッドレス CMS を使ってジャムスタックサイトを構築するのは大変人気があります。  
Spear は Spearly CMS をサポートしています。

Spearly CMS を使ったサイトを構築する前に、Spearly CMS に[サインアップ](https://spearly.com/{{lang}}/cms/)する必要があります。

## コンテンツタイプ・コンテンツ・フィールドを学ぶ

Spearly CMS は[公式ドキュメント](https://docs.spearly.com/{{lang}})を公開しています。

以下のリソースから学習することができます。
- [コンテンツタイプを作成する](https://docs.spearly.com/{{lang}}/cms/tutorial/c-aQ01pUIdVLnGwvs8iAWf)
- [フィールドタイプを設定する](https://docs.spearly.com/{{lang}}/cms/tutorial/c-GXzd14U3AYOisjQDa8Rh)
- [コンテンツを作成する](https://docs.spearly.com/{{lang}}/cms/tutorial/c-WjAtTlOPQ9FUBpJ572C4)


## フェッチ設定

通常、Spearly の設定はウィザードで「Use Spearly CMS」の質問に対して Yes と回答すれば、Spearly に関する設定も質問されます。

ウィザードが終了した後でも、フェッチ設定を変更することができます。設定ファイルの詳細については、[インストールガイド](/{{lang}}/intro/install.html) を参照してください。

## コンテンツリストをサイトに埋め込む

埋め込み方法は簡単です。詳細は[埋め込み基本ガイド](/{{lang}}/embed/basic.html)を参照してください。

- `/src/index.html`
```html
...\n
<body>\n
  <div cms-loop cms-content-type="blog">\n
    <h1>{%= blog_title %}</h1>\n
  </div>\n
</body>\n
```
上記サンプルの `{%= blog_title %}` は埋め込み文法です。Spear はこの埋め込み文法の文字列をフェッチしたデータに置換します。
このケースでは、Spear はコンテンツのタイトルに置換し、`cms-loop` 属性のある要素を繰り返し出力します。

Spear は最終的に以下の HTML を生成します。
- `/dist/index.html`
```
...\n
<body>\n
  <div>\n
    <h1>First blog post</h1>\n
  </div>\n
  <div>\n
    <h1>Second post</h1>\n
  </div>\n
</body>\n
```

## コンテンツをサイトへ埋め込む

You can embed single content as well! Embedding way is simillar to the way of embedding list content.

- `/src/index.html`
```html
...\n
<body>\n
  <div cms-item cms-content-type="blog" cms-content="c-N2np7l945FMzCimfKuPP">\n
    <h1>{%= blog_title %}</h1>\n
  </div>\n
</body>\n
```

Spear will fetch one conetent from Spearly CMS, because this sample has `cms-item` attribute and `cms-content` attribute.  

Spear ended up generating the following HTML:
- `/dist/index.html`
```html
...\n
<body>\n
  <div>\n
    <h1>Second post</h1>\n
  </div>\n
</body>\n
```

## Routing

Spear will create html file by each content. For example, you want to build blog site, you need to implement detail page.  

- `/src/blog/[alias].html`
```html
...\n
<body>\n
  <div cms-item cms-content-type="blog" cms-content="c-N2np7l945FMzCimfKuPP">\n
    <h1>{%= blog_title %}</h1>\n
    <section>\n
      {%= blog_body %}\n
    </section>\n
  </div>\n
</body>\n
...

It's little difference of previous examples. This file name is `[alis].html`. This alias link to Spearly CMS alias name or content id.  
This alias is similar to WordPress's slug. This alias is unique key of Spearly CMS.

Spear will generate every contents page. (E.g., we have three contents(A/B/C), spear will generate `A.html` / `B.html` / `C.html`)

If you want to reference this alias page from list of contents, you can use `{%= blog_#alias %}` embed sytax.  
For detail, see [embed basic guide](/{{lang}}/embed/basic.html).

